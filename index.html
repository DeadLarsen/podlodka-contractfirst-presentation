<!DOCTYPE html>
<html lang="en">
<head>
    <title>Контракты пишем - код генерим: как мы перестали CRUDошлепить</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="shower/themes/rndphp/styles/styles.css">
</head>
<body class="shower list">
<section class="slide">
    <img src="pictures/preview.jpg" class=" cover"/>
</section>

<section class="slide">
    <h2>О себе</h2>
    <h3>Забанов Александр</h3>
    <ul>
        <li>Руководитель направления Backend в комании Веб<span style="color:#7927e0">/</span>Практик</li>
        <li>10+ лет в backend</li>
        <li><b>PHP</b> : Bitrix, Laravel, Symfony</li>
        <li><b>NodeJS</b> : Nest, Express</li>
        <li><b>Балуюсь</b> : Rust</li>
    </ul>
</section>

<section class="slide">
    <h2>Вебпрактик</h2>
    <div style="display: grid;grid-template-columns: repeat(5, 1fr);gap: 16px;">
    <div class="style_runline_item__AH3St" style="width: 100px;" ><img alt="Центр инвест" loading="lazy" width="100" height="100"
                                                decoding="async" data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fcenter.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fcenter.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fcenter.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="Фонд развития теоритории" loading="lazy" width="100" height="100"
                                                decoding="async" data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Ffond.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Ffond.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Ffond.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="Главстрой" loading="lazy" width="100" height="100" decoding="async"
                                                data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fgalv.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fgalv.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fgalv.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="Газпромнефть" loading="lazy" width="100" height="100"
                                                decoding="async" data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fgas.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fgas.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fgas.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="ГлавГосЭкспертиза" loading="lazy" width="100" height="100"
                                                decoding="async" data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fgge.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fgge.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fgge.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="Лукойл" loading="lazy" width="100" height="100" decoding="async"
                                                data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Flukoil.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Flukoil.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Flukoil.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="Мос биржа" loading="lazy" width="100" height="100" decoding="async"
                                                data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fmoex.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fmoex.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fmoex.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="ОТП банк" loading="lazy" width="100" height="100" decoding="async"
                                                data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fotp.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fotp.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fotp.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="Почта банк" loading="lazy" width="100" height="100"
                                                decoding="async" data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fpochta.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fpochta.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fpochta.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="ПСБ" loading="lazy" width="100" height="100" decoding="async"
                                                data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fpsb.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fpsb.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fpsb.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="РосГосСтрах" loading="lazy" width="100" height="100"
                                                decoding="async" data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Frgs.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Frgs.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Frgs.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="Сколково" loading="lazy" width="100" height="100" decoding="async"
                                                data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fsk.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fsk.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fsk.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="СК10" loading="lazy" width="100" height="100" decoding="async"
                                                data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fsk10.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fsk10.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Fsk10.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="Т1" loading="lazy" width="100" height="100" decoding="async"
                                                data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Ft1.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Ft1.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Ft1.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
    <div class="style_runline_item__AH3St" style="width: 100px;"><img alt="Т-банк" loading="lazy" width="100" height="100" decoding="async"
                                                data-nimg="1" class="style_runline_logo__ws1I_"
                                                srcset="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Ftbank.svg&amp;w=256&amp;q=75 1x, https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Ftbank.svg&amp;w=640&amp;q=75 2x"
                                                src="https://webpractik.ru/_next/image?url=https%3A%2F%2Fba5f0191-bf14-4ecb-8111-dfb7ed9d1e60.selstorage.ru%2Fimages%2Fsvg%2Frunline%2Ftbank.svg&amp;w=640&amp;q=75"
                                                style="color: transparent;"></div>
</div>
</section>

<section class="slide">
    <h2>План</h2>
    <ul>
        <li class="next">Зачем Contract First подход</li>
        <li class="next">Проектирование контракта</li>
        <li class="next">Валидация, согласованность и доступность контракта</li>
        <li class="next">Имплементация контракта</li>
        <li class="next">Выводы</li>
    </ul>
</section>


<section class="slide">
    <h2>Ситуация</h2>
    <ul>
        <li class="next">Мы разрабатываем фичи в распределенной команде backend, frontend, mobile, qa</li>
        <li class="next">Каждая новая фича почти всегда требует изменений в API.</li>
    </ul>
</section>


<section class="slide">
    <h2>Пример</h2>
    <p><b>Задача:</b> "Добавить фильтр товаров по цвету"</p> 
    <p><b>Неорганизованный подход:</b></p>    
    <ul>
        <li class="next">BE пишет эндпоинт <span style="color:##0C755F;">/products?color=red</span></li>
        <li class="next">FE по словам или чатику понимает структуру ответа</li>
        <li class="next">Mobile смотрит на результат диалога в комментариях таск трекера </li>
        <li class="next">Где-то в процессе появляются расхождения…</li>
    </ul>
</section>


<section class="slide">
    <h2>Проблемы</h2> 
    <ol>
        <li class="next">Расхождение между реализацией и ожиданиями</li>
        <li class="next">Одинаковую информацию приходится описывать 3 раза</li>
        <li class="next">Невозможно синхронизировать разработку</li>
        <li class="next">Нет автоматической проверки, что API соответствует контракту</li>
        <li class="next">Документация устаревает за неделю</li>
    </ol>
</section>

<section class="slide">
    <h2>Вопрос</h2>
    <span><i>"Каким образом можно сделать API единым, проверяемым, генерируемым и согласованным?"</i></span><br>
    <span><b>А именно:</b></span>        
    <ul style="
    font-size: 22px;
">
        <li class="next">API описывать один раз и в единственном месте</li>
        <li class="next">достичь консенсуса между backend, frontend и mobile</li>
        <li class="next">автоматически генерировать код  (dto, интерфейсы, типы и тд)</li>
        <li class="next">тестировать не только бизнес-логику, но и соответствие контракту</li>
        <li class="next">обеспечить независимцю разработку юнитов команд</li>
    </ul>
</section>

<section class="slide">
    <h2>Ответ</h2>
    <h2 class="shout ">Contract-First с автогенерацией кода</h2>
</section>

<section class="slide">
    <h2>Что такое Contract-First? </h2>
    <p><b>Contract-First</b> - методология разработки, при которой формальная машиночитаемая спецификация API создаётся <b>ДО</b> написания имплементации.</p>    
    </ul>
</section>

<section class="slide">
    <h2>Сравнение Contract-first с Code-first</h2>
    <p><b>Порядок работы:</b></p>    
    <ul>
        <li class="next"><b>Contract-first:</b> сначала создается спецификация - по ней генерируются каркасы кода.</li>
        <li class="next"><b>Code-first:</b> сначала пишется код API - из него генерируется спецификация</li>
    </ul>
</section>

<section class="slide">
    <h2>Сравнение Contract-first с Code-first</h2>
    <p><b>Основа разработки:</b></p>    
    <ul>
        <li class="next"><b>Contract-first:</b> основной источник истины - контракт/спецификация</li>
        <li class="next"><b>Code-first:</b> основной источник истины - код</li>
    </ul>
</section>

<section class="slide">
    <h2>Сравнение Contract-first с Code-first</h2>
    <p><b>Инструменты генерации:</b></p>    
    <ul>
        <li class="next"><b>Contract-first:</b> используется генерация кода (серверных заглушек, клиентов, моделей) из спецификации</li>
        <li class="next"><b>Code-first:</b> используется генерация спецификации из аннотаций или кода</li>
    </ul>
</section>

<section class="slide">
    <h2>Сравнение Contract-first с Code-first</h2>
    <p><b>Изменение API со временем:</b></p>    
    <ul>
        <li class="next"><b>Contract-first:</b> изменения в API начинаются со спецификации и затем переносятся в код</li>
        <li class="next"><b>Code-first:</b> изменения в API отражаются через изменения в коде, а спецификация синхронизируется после</li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout ">Проектирование контракта</h2>
</section>

<section class="slide">
    <h2>Пример</h2>
    <p><b>Наша команда:</b></p>    
    <ul>
        <li class="next">1 teamlead</li>
        <li class="next">3 backend разработчика (PHP/Symfony)</li>
        <li class="next">2 frontend разработчика (React)</li>
        <li class="next">1 iOS разработчик</li>
        <li class="next">1 Android разработчик</li>
        <li class="next">0.5 QA</li>
    </ul>
</section>

<section class="slide">
    <h2>Стандарты спецификаций</h2>  
    <ul>
         <li class="next"><b>OpenAPI</b></li>
         <li class="next">GraphQL SDL (Schema Definition Language)</li>
         <li class="next">gRPC + Protocol Buffers (.proto)</li>
         <li class="next">JSON:API / RESTful API спецификации</li>
         <li class="next">RAML (RESTful API Modeling Language)</li>
         <li class="next">API Blueprint</li>
         <li class="next">и тд</li>
    </ul>
</section>

<section class="slide">
    <h2>OpenAPI 3.*</h2>
    <p  style="
    width: 50%;
">OpenAPI Specification (OAS) - это стандарт описания RESTful API в машиночитаемом формате<br> (YAML или JSON)</p>

    <img src="pictures/OpenAPI3.svg" style="
    position: absolute;
    left: 513px;
    top: -6px;
    width: 50%;
"/>
</section>

<section class="slide">
    <h2>OpenAPI 3 - Язык описания API</h2>
    <p><b>Используем для:</b></p>    
    <ul>
        <li class="next">Описания структуры API </li>
        <li class="next">Согласования с командой</li>
        <li class="next">Документация требований</li>
    </ul>
</section>

<section class="slide">
    <h2>GUI редакторы</h2>   
    <ul>
        <li class="next"><b>Swagger Editor</b></li> 
        <li class="next">Stoplight Studio</li> 
        <li class="next">Mermade</li> 
        <li class="next">и тд</li>
    </ul>
</section>

<section class="slide">
    <h2>Swagger Editor</h2>  
    <p><b>Используем для:</b></p>      
    <ul>
        <li class="next">Визуальное проектирование API</li>
        <li class="next">Коллаборация всей команды</li>
    </ul>
        <img src="pictures/swaggereditor.png" style="
    position: absolute;
    left: 513px;
    top: -6px;
    width: 50%;
"/>
</section>

<section class="slide">
    <h2>Workflow в команде (один из вариантов)</h2>
    <ul>
        <li class="next">Tech Lead создает структуру</li>
        <li class="next">Backend добавляет эндпоинты</li>
        <li class="next">Frontend и Mobile комментирует требования</li>
        <li class="next">"Контракт" готов?</li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout ">Валидация, согласованность и&nbsp;доступность контракта</h2>
</section>

<section class="slide">
    <h2>Контракт в отдельном репозитории</h2>  
    <p><b>Дает нам:</b></p>   
    <ul>
        <li>
            <img src="pictures/repocontr.png" style="
    position: absolute;
    left: 46px;
    top: 202px;
    width: 48%;
    z-index: 1;
"/></li>
    </ul>   
    <img src="pictures/singlrepo.png" style="
    position: absolute;
    left: 657px;
    top: 143px;
    width: 39%;
"/>
</section>

<section class="slide">
    <h2>Соберем свой pipeline</h2>
    <h2 class="shout " style="
    font-size: 62px;
">Lint → Test → Build → Release → Notify</h2>
</section>

<section class="slide">
    <h2 class="shout ">Lint</h2>
</section>

<section class="slide">
    <h2>Spectral</h2>       
    <ul style="
    width: 50%;
">
        <li class="next">это линтер для проверки качества описаний API</li>
        <li class="next">позволяет определять наборы правил (.spectral.yaml)

<img src="pictures/spectral.svg" style="
    position: absolute;
    left: 517px;
    top: 149px;
    width: 50%;
"/>

<img src="pictures/spectral_arrow.png" style="
    position: absolute;
    left: 273px;
    top: 309px;
    /* width: 50%; */
    width: 23%;
"/>

        </li>
    </ul>
</section>

<section class="slide">
    <h2>Примеры проверок</h2>
    <ul>
        <li class="next">❌ operation-operationId: Missing operationId</li>
        <li class="next">❌ operation-tags: Must have at least one tag</li>
        <li class="next">⚠️ operation-description: Should have description</li>
        <li class="next">✅ All checks passed!</li>
    </ul>
</section>

<section class="slide">
    <h2>Spectral </h2>  
    <p><b>Используем при:</b></p>      
    <ul>
        <li class="next">Валидации спецификации перед merge</li>
        <li class="next">CI/CD автопроверки</li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout ">Test</h2>
</section>

<section class="slide">
    <h2>Dredd</h2>  
    <p style="
    width: 50%;
">Утилита для автоматического интеграционного тестировани API серверов, использующих OpenAPI</p>     
        <img src="pictures/dredd.png" style="
    position: absolute;
    left: 477px;
    top: 146px;
    width: 50%;
"/>
</section>

<section class="slide">
    <h2>Dredd</h2>  
    <p><b>Проверяет, что:</b></p>      
    <ul>
        <li class="next">Все эндпоинты доступны</li>
        <li class="next">Responses соответствуют схемам</li>
        <li class="next">Status codes корректны</li>
        <li class="next">Headers правильные</li>
    </ul>
        <img src="pictures/dredd_result.svg" style="
    position: absolute;
    left: 477px;
    top: 146px;
    width: 50%;
"/>
</section>

<section class="slide">
    <h2>Schemathesis</h2>  
    <p style="
    width: 50%;
">property-based тестирование<br> для API схем</p>      
    
        <img src="pictures/schemathesis.gif" style="
    position: absolute;
    left: 502px;
    top: 51px;
    width: 50%;

"/>
</section>

<section class="slide">
    <h2>Schemathesis</h2>  
    <p><b>Функции:</b></p>      
    <ul>
        <li class="next">Нагрузочное тестирование</li>
        <li class="next">Поиск edge cases  </li>
        <li class="next">Security testing</li>
    </ul>
</section>

<section class="slide">
    <h2>Сравнение Schemathesis vs Dredd</h2>  
    <img src="pictures/dreddvsch.png" style="
    position: absolute;
    left: 102px;
    width: 77%;
"/>
</section>

<section class="slide">
    <h2 class="shout ">Build</h2>
</section>

<section class="slide">
    <h2>Mock-сервер</h2>      
    <ul>
        <li class="next"><b>Prism</b></li>
        <li class="next">Mockoon</li>
        <li class="next">WireMock</li>
        <li class="next">MSW</li>
        <li class="next">Microrocks</li>
    </ul>
</section>

<section class="slide">
    <h2>Prism</h2>      
    <ul>
        <li class="next"><img src="pictures/bashprism.svg" style="
    position: absolute;
    left: 56px;
    width: 52%;
    z-index: 100;
    "/></li>       
        <li class="next">
            <img src="pictures/jsonprism.svg" style="
    position: absolute;
    left: 646px;
    width: 37%;
    top: 0px;
"/>
            <img src="pictures/spectral_arrow.png" style="
    position: absolute;
    left: 331px;
    width: 30%;
    top: 135px;

"/>
</li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout ">Release</h2> 
</section>

<section class="slide">
    <h2>Интерактивная документация</h2>      
    <img src="pictures/redoc.png" style="
    position: absolute;
    left: 51px;
    width: 95%;
    top: 103px;
    "/>
</section>

<section class="slide">
    <h2>ReDoc</h2>      
    <p><b>Что получаем:</b></p>
    <ul>
        <li class="next">Удобный интерфейс</li>
        <li class="next">Поиск по эндпоинтам</li>
        <li class="next">Готовые примеры (curl, PHP, JS)</li>
        <li class="next">Try-it-out функция</li>
        <li class="next">Автообновление</li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout ">Notify</h2>
</section>

<section class="slide">
    <h2>Уведомление команды</h2>      
    <p><b>Варианты:</b></p>
    <ul>
        <li class="next"><b>Telegram bot</b></li>
        <li class="next">Mattermost / Teams</li>
        <li class="next">GitHub / GitLab Notifications</li>
        <li class="next">Email</li>
        <li class="next">и тд</li>
    </ul>
</section>

<section class="slide">
    <h2>n8n и Telegram bot</h2>      
    <img src="pictures/n8n.png" style="
    position: absolute;
    left: 50px;
    width: 53%;
    top: 103px;
    
    "/>    
    <img src="pictures/n8ntg.png" style="
    position: absolute;
    left: 676px;
    width: 34%;
    top: 0px;
    
    "/>
    <img src="pictures/spectral_arrow.png" style="
    position: absolute;
    left: 593px;
    width: 8%;
    top: 292px;
"/>
</section>

<section class="slide">
    <h2>Спецификация готова</h2>      
    <p><b>Что получили:</b></p>
    <ul>
        <li class="next">линтинг</li>
        <li class="next">тесты контракта</li>
        <li class="next">мок-сервер</li>
        <li class="next">публикация docs</li>
        <li class="next">команда уведомлена</li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout ">Имплементация контракта</h2>
</section>

<section class="slide">
    <h2>Важно</h2>
    <h2 class="shout " style="
    font-family: Courier New;
    font-size: 22px;
">⚠️ перед запуском генераций необходимо обеспечить актуальность контракта</h2>
</section>

<section class="slide">
    <h2>Kubb — Генерация на фронте</h2>      
    <p style="
    width: 70%;
"><b>Инструмент, который автоматически генерирует код для общения с вашим backend-API</b></p>   
    <img src="pictures/kubb.png" style="
    position: absolute;
    left: 50px;
    width: 53%;
    top: 249px;
    "/>    
    <img src="pictures/kubbresult.png" style="
    position: absolute;
    left: 727px;
    width: 29%;
    top: 0px;
    "/>
    <img src="pictures/spectral_arrow.png" style="
    position: absolute;
    left: 594px;
    width: 12%;
    top: 264px;
"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator — Фреймворк для генерации бека</h2>
    <p>Предоставляет несколько инструментов для работы со спецификацией OpenAPI</p>   
     <img src="pictures/openapigen.png" style="
    position: absolute;
    left: 0px;
    width: 100%;
    top: 314px;

"/>
</section>


<section class="slide">
    <h2 >OpenAPI Generator</h2>
    <h2 class="shout ">контракт   →  php код</h2>
</section>

<section class="slide">
    <h2>OpenAPI Generator - конфиг</h2>  
     <img src="pictures/openapiconf.png" style="
    position: absolute;
    left: 316px;
    width: 39%;
    /* top: 314px; */
"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - PHP-конфиг</h2> 
     <img src="pictures/openapiconfphp.png" style="
    position: absolute;
    left: 316px;
    width: 39%;
    /* top: 314px; */
"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - HTTP library template</h2> 
     <img src="pictures/guzzlehead.png" style="
    position: absolute;
    left: 155px;
    width: 68%;
    top: 115px;

"/>
     <img src="pictures/guzzle.png" style="
    position: absolute;
    left: 152px;
    width: 68%;
    top: 300px;
"/>
</section>

<section class="slide">
    <h2 style="margin-left: 500px;">Структура проекта</h2>
    <ul style="padding-left: 524px;">
        <li>Только автогенерация</li>
        <li>Ручная правка</li>
        <li>Гибрид</li>
    </ul>
     <img src="pictures/structure.png" style="
    position: absolute;
    left: 0px;
    width: 39%;
    top: 0px;
    z-index: 1;

"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - Сущности</h2> 
     <img src="pictures/entity.png" style="
    position: absolute;
    left: 649px;
    width: 37%;
    top: 0px;
    /* z-index: 1; */

"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - Контроллер</h2> 
     <img src="pictures/controller.png " style="
    position: absolute;
    left: 748px;
    width: 27%;
    top: 0px;
    /* z-index: 1; */
"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - Контроллер</h2> 
    <ol>
        <li>Используем operationId</li>
    </ol>
     <img src="pictures/contr1.png " style="
    position: absolute;
    left: 594px;
    width: 42%;
    top: 0px;
    /* z-index: 1; */

"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - Контроллер</h2>
    <ol>
        <li>Используем operationId</li>
        <li>Добавляем openapi-server/Resources/config/routing.yaml</li>
    </ol>
     <img src="pictures/contr2.png " style="
    position: absolute;
    /* left: 594px; */
    width: 50%;
    top: 263px;
    /* z-index: 1; */
"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - Контроллер</h2> 
    <ol>
        <li>Используем operationId</li>
        <li>Добавляем …/routing.yaml</li>
        <li>Хендлер подхватывает метод</li>
    </ol>
     <img src="pictures/contr3.png " style="
    position: absolute;
    left: 595px;
    width: 42%;
    top: 143px;
    /* z-index: 1; */
"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - Контроллер</h2> 
    <ol>
        <li>Используем operationId</li>
        <li>Добавляем …/routing.yaml</li>
        <li>Хендлер подхватывает метод</li>
        <li>Логику пишем в сервис</li>
    </ol>
     <img src="pictures/contr4.png" style="
    position: absolute;
    left: 524px;
    width: 49%;
    top: 143px;
    /* z-index: 1; */
"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - Request</h2>
    <p><b>Преимущества подхода с Request/Response:</b></p>
    <ul>
        <li class="next">Типобезопасность </li>
        <li class="next">Валидация </li>
        <li class="next">Сепарация </li>
        <li class="next">Сериализация </li>
        <li class="next">Переиспользование  </li>
        <li class="next">Тестируемость  </li>
    </ul>
     <img src="pictures/req.png" style="
    position: absolute;
    left: 594px;
    width: 42%;
    top: 153px;
    /* z-index: 1; */
"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator - Responce </h2>
    <p><b>Преимущества подхода с Request/Response:</b></p>
    <ul>
        <li>Типобезопасность </li>
        <li>Валидация </li>
        <li>Сепарация </li>
        <li>Сериализация </li>
        <li>Переиспользование  </li>
        <li>Тестируемость  </li>
    </ul>
     <img src="pictures/res.png" style="
    position: absolute;
    left: 696px;
    width: 32%;
    top: 0px;
    /* z-index: 1; */
"/>
</section>

<section class="slide">
    <h2>OpenAPI Generator против AI</h2>
    <ul>
        <li class="next">Детерминизм и предсказуемость </li>
        <li class="next">Скорость </li>
        <li class="next">Консистентность кода </li>
        <li class="next">Цена </li>
    </ul>
</section>

<section class="slide">
    <h2>OpenAPI Generator против AI</h2>
    <p>Обеспечивает:</p>
    <ul>
        <li class="next">Автоматическую валидацию</li>
        <li class="next">Автогенерацию CRUD</li>
    </ul>
</section>

<section class="slide">
    <h2>league/openapi-psr7-validator — Runtime валидация</h2>
    <p>Библиотека, которая проверяет, соответствуют ли ваши PSR-7 запросы и ответы тому, что описано в вашем OpenAPI-документе</p>
     <img src="pictures/league.png" style="
    position: absolute;
    left: 100px;
    width: 80%;
    top: 222px;
"/>
</section>

<section class="slide">
    <h2>league/openapi-psr7-validator — Runtime валидация</h2>
    <p>Пример 1: Интеграция с Middleware (PSR-15)</p>
     <img src="pictures/leg1.png" style="
    position: absolute;
    left: 645px;
    width: 38%;
    top: 147px;
"/>
</section>

<section class="slide">
    <h2>league/openapi-psr7-validator — Runtime валидация</h2>
    <p>Пример 2: Валидация в тестах</p>
     <img src="pictures/leg2.png" style="
    position: absolute;
    left: 625px;
    width: 39%;
    top: 147px;
"/>
</section>

<section class="slide">
    <h2>league/openapi-psr7-validator</h2>
    <p>Использовуем в:</p>
    <ul>
        <li class="next">Middleware автовалидации запросов</li>
        <li class="next">Проверка ответов в dev/staging </li>
        <li class="next">Мониторинг нарушений контракта</li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout ">Что мы получили</h2>
</section>

<section class="slide">
    <h2>Преимущества методологии</h2>
    <p>Ключевые преимущества:</p>
    <ul>
        <li class="next">Детерминированность разработки</li>
        <li class="next">Ранняя валидация архитектуры</li>
        <li class="next">Автоматизация процессов</li>
        <li class="next">Масштабируемость команды</li>
    </ul>
</section>

<section class="slide">
    <h2>Когда подход избыточен</h2>
    <ul>
        <li class="next">MVP</li>
        <li class="next">Статичные страницы</li>
        <li class="next">"Луддиты" + сжатые сроки</li>
    </ul>
</section>

<section class="slide">
    <h2>Технологический стек</h2>

            <p>Спецификация:</p>
            <ul>
                <li>OpenAPI 3.* — стандарт описания REST API</li>
                <li>Swagger Editor  — визуальный редактор спецификаций</li>
                <li>Spectral — линтер для соблюдения стандартов</li>
            </ul>
       
</section>

<section class="slide">
    <h2>Технологический стек</h2>

            <p>Генерация кода:</p>
            <ul>
                <li>OpenAPI Generator — генерация PHP моделей и интерфейсов</li>
            </ul>
        
</section>

<section class="slide">
    <h2>Технологический стек</h2>
  

            <p>Валидация:</p>
            <ul>
                <li>league/openapi-psr7-validator — runtime валидация в PHP</li>
            </ul>
       
</section>

<section class="slide">
    <h2>Технологический стек</h2>

            <p>Тестирование:</p>
            <ul>
                <li>Dredd — автоматические contract tests</li>
                <li>Schemathesis — property-based testing API</li>
            </ul>

</section>

<section class="slide">
    <h2>Технологический стек</h2>

            <p>Mock & Документация:</p>
            <ul>
                <li>Prism — mock-сервер из спецификации</li>
                <li>ReDoc — интерактивная документация</li>
            </ul>


</section>

<section class="slide">
    <h2>Вопросы</h2> 
    <p>Презентация</p>    
    <img src="pictures/qr-code.svg" style="
    position: absolute;
    left: 342px;
    width: 38%;
    top: 147px;
"/>
    <img src="pictures/spectral_arrow.png" style="
    position: absolute;
    left: 209px;
    width: 14%;
    top: 159px;
"/>
</section>

<section class="slide">
    <h2 class="shout ">Конец</h2>
</section>

<div class="progress"></div>

<script src="shower/shower.min.js"></script>

</body>
</html>